

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arena SDK for Linux &mdash; Arena 1.0.41.13 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Arena 1.0.41.13 documentation" href="index.html"/>
        <link rel="next" title="Code Reference &amp; Samples" href="sdk.html"/>
        <link rel="prev" title="Arena SDK for Windows" href="arena_sdk_windows.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home">
          

          <!--
            
            <img src="_static/lucid-white.png" class="logo" />
          -->
          </a>

          
            
            
              <div class="version">
                1.0.41
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_sdk_datasheet.html">Arena SDK Datasheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="arena_sdk_windows.html">Arena SDK for Windows</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Arena SDK for Linux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initial-configuration-in-linux">Initial Configuration in Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ethernet-adapter-configuration">Ethernet Adapter Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-the-ethernet-driver">Installing the Ethernet Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jumbo-frames">Jumbo Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#receive-buffers">Receive Buffers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ip-address-assignment">IP Address Assignment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#camera-ip-setup">Camera IP Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reverse-path-filtering">Reverse Path Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-persistent-ip-or-dhcp-on-the-camera-with-ip-config-utility">Setting Up Persistent IP or DHCP on the Camera with IP Config Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forcing-an-ip-address-on-the-camera-with-ip-config-utility">Forcing an IP Address on the Camera with IP Config Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-lla-on-the-ethernet-adapter">Setting Up LLA on the Ethernet Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-rdma-for-linux">Configuring RDMA for Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-systems">Example systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initial-preparation">Initial preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-procedure">Installation procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#activating-rdma">Activating RDMA</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sdk.html">Code Reference &amp; Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="arena_api.html">Arena Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter_guide.html">Using LUCID’s ArenaView with Jupyter Notebooks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Arena</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Arena SDK for Linux</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arena-sdk-for-linux">
<h1>Arena SDK for Linux<a class="headerlink" href="#arena-sdk-for-linux" title="Permalink to this headline">¶</a></h1>
<div class="section" id="initial-configuration-in-linux">
<h2>Initial Configuration in Linux<a class="headerlink" href="#initial-configuration-in-linux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ethernet-adapter-configuration">
<h3>Ethernet Adapter Configuration<a class="headerlink" href="#ethernet-adapter-configuration" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="installing-the-ethernet-driver">
<h3>Installing the Ethernet Driver<a class="headerlink" href="#installing-the-ethernet-driver" title="Permalink to this headline">¶</a></h3>
<p>LUCID recommends updating the Ethernet driver on your Ethernet adapter to the latest driver available before connecting your camera. You may need to update your kernel to get the latest version of the Ethernet driver.</p>
</div>
<div class="section" id="jumbo-frames">
<h3>Jumbo Frames<a class="headerlink" href="#jumbo-frames" title="Permalink to this headline">¶</a></h3>
<p>LUCID recommends enabling jumbo frames on your Ethernet adapter. A jumbo frame is an Ethernet frame that is larger than 1500 bytes. Most Ethernet adapters support jumbo frames, but it is usually turned off by default.</p>
<p>Enabling jumbo frames on the Ethernet adapter allows a packet size of 9000 bytes and higher to be set on the camera. The larger packet size enables optimal performance on high-bandwidth cameras, and it usually reduces CPU load on the host system. To set a larger (e.g., 9000-byte) packet size on the camera, the Ethernet adapter must support the larger jumbo frame size. Jumbo frames can be enabled in your ArenaConfig program.</p>
<p>Using Ubuntu System Settings -&gt; Network:</p>
<blockquote>
<div><img alt="_images/ubuntu_adapter_jumbo_frames.png" src="_images/ubuntu_adapter_jumbo_frames.png" />
</div></blockquote>
<p>Using the terminal:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ifconfig enp0s8 mtu <span class="m">9000</span>
</pre></div>
</div>
<p>The above command sets enp0s8 to an MTU size of 9000 to enable jumbo frames.</p>
</div>
<div class="section" id="receive-buffers">
<h3>Receive Buffers<a class="headerlink" href="#receive-buffers" title="Permalink to this headline">¶</a></h3>
<p>A receive buffer is the area in system memory that can be used by the Ethernet adapter to receive packets. Some network adapter drivers or the operating system itself may set the receive buffer value to a low value by default, which may result in decreased performance. Increasing the receive buffer size, however, will also result in increased system memory usage. On Linux, you can use the utility ethtool to adjust the receive buffer size.</p>
<p>Using the terminal:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ethtool -g enp0s8
<span class="go">Ring parameters for enp0s8:</span>
<span class="go">Pre-set maximums:</span>
<span class="go">RX:         4096</span>
<span class="go">RX Mini:    0</span>
<span class="go">RX Jumbo:   0</span>
<span class="go">TX:         4096</span>
<span class="go">Current hardware settings:</span>
<span class="go">RX:         256</span>
<span class="go">RX Mini:    0</span>
<span class="go">RX Jumbo:   0</span>
<span class="go">TX:         256</span>

<span class="gp">$</span> sudo ethtool -G enp0s8 rx <span class="m">4096</span>
</pre></div>
</div>
<p>The above commands query and set the maximum receive buffer size on enp0s8.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/help_icon.png"><img alt="help" src="_images/help_icon.png" style="width: 70px;" /></a></td>
<td>Using your Ethernet adapter’s maximum supported receive buffer size is recommended.</td>
</tr>
</tbody>
</table>
<p>On most standard Linux installations, the default maximum socket buffer size is small, which may result in decreased streaming performance.
LUCID also recommends that you set the socket buffer size. Using the terminal:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo sh -c <span class="s2">&quot;echo &#39;net.core.rmem_default=1048576&#39; &gt;&gt; /etc/sysctl.conf&quot;</span>
<span class="gp">$</span> sudo sh -c <span class="s2">&quot;echo &#39;net.core.rmem_max=1048576&#39; &gt;&gt; /etc/sysctl.conf&quot;</span>
<span class="gp">$</span> sudo sysctl -p
</pre></div>
</div>
<p>The above commands set the socket buffer size to 1 MB.</p>
</div>
</div>
<div class="section" id="ip-address-assignment">
<h2>IP Address Assignment<a class="headerlink" href="#ip-address-assignment" title="Permalink to this headline">¶</a></h2>
<p>There are three methods used by LUCID cameras to obtain an IP address:</p>
<ul class="simple">
<li>Persistent - The camera uses a fixed IP address.</li>
<li>Dynamic Host Configuration Protocol (DHCP) - The camera is assigned an address from a DHCP server.</li>
<li>Link-Local Address (LLA) - The camera obtains an address in the Link-Local address range from 169.254.1.0 to 169.254.254.255.</li>
</ul>
<p>Persistent IP and DHCP configurations can be disabled on the camera. Out of the box, persistent IP is disabled and DHCP is enabled. LLA is always enabled.</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/help_icon.png"><img alt="help" src="_images/help_icon.png" style="width: 70px;" /></a></td>
<td>A Link-Local address is selected with a pseudo-random number generator, so an LLA address cannot be reliably predicted.
If you require a consistent IP address, you should set up a persistent IP on the camera.
For more information on Link-Local Address selection, refer to <a class="reference external" href="https://tools.ietf.org/html/rfc3927#section-2.1">Section 2.1 in RFC 3927</a>.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="lightbulb" src="_images/lightbulb_icon.png" style="width: 70px;" /></a></td>
<td rowspan="2">The camera must be on the same subnet as the Ethernet adapter and have a valid IP address before use.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<div class="section" id="camera-ip-setup">
<h3>Camera IP Setup<a class="headerlink" href="#camera-ip-setup" title="Permalink to this headline">¶</a></h3>
<p>Persistent IP and DHCP configurations can be disabled on the camera. The default camera configuration is as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Persistent IP</strong></td>
<td>Disabled</td>
</tr>
<tr class="row-even"><td><strong>DHCP</strong></td>
<td>Enabled</td>
</tr>
<tr class="row-odd"><td><strong>LLA</strong></td>
<td>Enabled (always enabled)</td>
</tr>
</tbody>
</table>
<p>Out of the box, the camera first attempts to connect using DHCP. If the camera is unable to connect using DHCP, it will use Link-Local addressing.</p>
</div>
<div class="section" id="reverse-path-filtering">
<h3>Reverse Path Filtering<a class="headerlink" href="#reverse-path-filtering" title="Permalink to this headline">¶</a></h3>
<p>Most Linux systems check whether a packet can be received through the Ethernet interface as configured. A device can be ignored if its IP address conflicts with the Ethernet adapter.</p>
<p>Disabling reverse path filtering skips this check. The following command disables reverse path filtering on enp0s8 and any new Ethernet interfaces:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo sysctl -w net.ipv4.conf.default.rp_filter<span class="o">=</span><span class="m">0</span>
<span class="gp">$</span> sudo sysctl -w net.ipv4.conf.all.rp_filter<span class="o">=</span><span class="m">0</span>
<span class="gp">$</span> sudo sysctl -w net.ipv4.conf.enp0s8.rp_filter<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>The above commands are not retained when the system reboots. You can also permanently disable reverse path filtering by commenting out or removing any lines mentioning the following in /etc/sysctl.d/10-network-security.conf:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="go">net.ipv4.conf.default.rp_filter=1</span>
<span class="go">net.ipv4.conf.all.rp_filter=1</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-persistent-ip-or-dhcp-on-the-camera-with-ip-config-utility">
<h3>Setting Up Persistent IP or DHCP on the Camera with IP Config Utility<a class="headerlink" href="#setting-up-persistent-ip-or-dhcp-on-the-camera-with-ip-config-utility" title="Permalink to this headline">¶</a></h3>
<p>Arena SDK provides a small command-line utility called IP Config Utility to configure your camera’s IP address.</p>
<p>The following command shows all connected cameras:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /list

<span class="go">[index] MAC             IP              SUBNET          GATEWAY                 IP CONFIG</span>
<span class="go">[0]     1C0FAF000001    169.254.101.0   255.255.0.0     0.0.0.0                 DHCP= 1 Persistent Ip= 1 LLA = 1</span>
</pre></div>
</div>
<p>The following commands show how to enable and set a persistent IP address on a camera with the MAC address of 1C:0F:AF:00:00:01:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /persist -m 1C0FAF000001 -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.255.0 -g <span class="m">0</span>.0.0.0
<span class="gp">$</span> ./IpConfigUtility /config -m 1C0FAF000001 -p <span class="nb">true</span>
</pre></div>
</div>
<p>The following commands show how to enable persistent IP and set a persistent IP address on a camera listed at index 0:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /persist -i <span class="m">0</span> -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.255.0 -g <span class="m">0</span>.0.0.0
<span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -p <span class="nb">true</span>
</pre></div>
</div>
<p>The following command shows how to enable DHCP on a camera listed at index 0:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -d <span class="nb">true</span>
</pre></div>
</div>
<p>The following commands show how to enable persistent IP and DHCP and set a persistent IP address on a camera listed at index 0:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /persist -i <span class="m">0</span> -p <span class="nb">true</span> -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.255.0 -g <span class="m">0</span>.0.0.0
<span class="gp">$</span> ./IpConfigUtility /config -i <span class="m">0</span> -p <span class="nb">true</span> -d <span class="nb">true</span>
</pre></div>
</div>
</div>
<div class="section" id="forcing-an-ip-address-on-the-camera-with-ip-config-utility">
<h3>Forcing an IP Address on the Camera with IP Config Utility<a class="headerlink" href="#forcing-an-ip-address-on-the-camera-with-ip-config-utility" title="Permalink to this headline">¶</a></h3>
<p>The following command shows how to force an IP address on a camera with the MAC address of 1C:0F:AF:00:00:01:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> ./IpConfigUtility /force -m 1C0FAF000001 -a <span class="m">192</span>.168.0.10 -s <span class="m">255</span>.255.0.0 -g <span class="m">0</span>.0.0.0
</pre></div>
</div>
</div>
<div class="section" id="setting-up-lla-on-the-ethernet-adapter">
<h3>Setting Up LLA on the Ethernet Adapter<a class="headerlink" href="#setting-up-lla-on-the-ethernet-adapter" title="Permalink to this headline">¶</a></h3>
<p>The following steps illustrate an example configuration for one Ethernet adapter to use the LLA space.</p>
<ol class="arabic">
<li><p class="first">Navigate to System -&gt; System Settings -&gt; Network</p>
</li>
<li><p class="first">Click on your Ethernet adapter and click <strong>Options</strong></p>
<img alt="_images/ubuntu_edit_properties.png" src="_images/ubuntu_edit_properties.png" />
</li>
<li><p class="first">Select the <strong>IPv4 Settings</strong> tab, choose <strong>Manual</strong> for Method. In the Addresses heading, click <strong>Add</strong> and enter the following details:</p>
<table border="1" class="docutils">
<colgroup>
<col width="57%" />
<col width="43%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>IP address</strong></td>
<td>169.254.0.1</td>
</tr>
<tr class="row-even"><td><strong>Subnet mask</strong></td>
<td>255.255.0.0</td>
</tr>
</tbody>
</table>
<img alt="_images/ubuntu_ipv4_properties.png" src="_images/ubuntu_ipv4_properties.png" />
<p>Gateway, DNS servers, and Search domain details can be left blank.</p>
</li>
</ol>
<p>You can also set up your Ethernet adapter to use the LLA space using the terminal:</p>
<div class="highlight-shell-session"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo ifconfig enp0s8 <span class="m">169</span>.254.0.1 netmask <span class="m">255</span>.255.0.0
</pre></div>
</div>
<p>The above command sets enp0s8 to the IP address of 169.254.0.1 with the subnet mask 255.255.0.0.</p>
</div>
</div>
<div class="section" id="configuring-rdma-for-linux">
<h2>Configuring RDMA for Linux<a class="headerlink" href="#configuring-rdma-for-linux" title="Permalink to this headline">¶</a></h2>
<p>The Remote Direct Memory Access (RDMA) is a feature available on compatible LUCID cameras that enables
camera data to be transferred to the host’s RAM directly via the network card bypassing the host’s CPU.
This results in lower latency and higher speeds.</p>
<p>To use the RDMA feature with LUCID cameras, you need to use a compatible network card supplied by LUCID.</p>
<p>The sections below describe the prerequisites for RDMA, some example environments, and a configuration procedure.</p>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Windows configuration of RDMA requires the following host computer and camera:</p>
<p>Host computer:</p>
<ul>
<li><p class="first">Ubuntu 20.04 or 22.04 (64-bit).</p>
</li>
<li><p class="first">A compatible network card. Examples:</p>
<blockquote>
<div><ul class="simple">
<li>PCIE-10GPOE2-LUCID (LUCID dual port 1G/10G PoE+ RDMA-enabled network card)</li>
<li>PCIE-10GETH2-BC (Broadcom Dual Port 10G Ethernet Card)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">PCIe Generation 3 x8</p>
</li>
<li><p class="first">ArenaSDK (with RDMA support) installed</p>
</li>
</ul>
<p>Camera:</p>
<ul class="simple">
<li>A compatible LUCID camera with up-to-date firmware</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="3"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 70px;" /></a></td>
<td rowspan="3">The PCIE-10GPOE2-LUCID network card from LUCID is a 1G/10G network card.
A Triton2 (2.5G) or an Atlas/Atlas IP67 (5G) connected to this card would each connect as 1G device.</td>
</tr>
<tr class="row-even"></tr>
<tr class="row-odd"></tr>
</tbody>
</table>
</div>
<div class="section" id="example-systems">
<h3>Example systems<a class="headerlink" href="#example-systems" title="Permalink to this headline">¶</a></h3>
<p>The following is a system tested by LUCID that were successfully configured to use RDMA with a compatible LUCID camera.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Motherboard</td>
<td>ASUS PRIME X299-A II</td>
</tr>
<tr class="row-even"><td>Processor</td>
<td>Intel(R) Core(TM) i9-10900X CPU &#64; 3.70GHz</td>
</tr>
<tr class="row-odd"><td>Memory</td>
<td>Kingston 9905743-213.A00G 128GB (8x16GB) 16 GB PC4-25600 DDR4 SDRAM</td>
</tr>
<tr class="row-even"><td>Memory Channels</td>
<td>4 available, 4 active</td>
</tr>
<tr class="row-odd"><td>Operating System</td>
<td>Ubuntu 22.04</td>
</tr>
<tr class="row-even"><td>Video</td>
<td>NVIDIA GeForce GT 730, 2GB</td>
</tr>
<tr class="row-odd"><td>Storage</td>
<td>KINGSTON SKC3000S512G 512GB</td>
</tr>
<tr class="row-even"><td>Network Card</td>
<td>2x LUCID RDMA Network Cards PCIE-10GPOE2-LUCID</td>
</tr>
</tbody>
</table>
<p><strong>Driver Firmware for network card</strong></p>
<p>For the system above, the LUCID RDMA Network Card PCIE-10GPOE2-LUCID had the following driver and firmware:</p>
<ul class="simple">
<li>Driver version: 224.0.159.0, Date: 11/4/2022</li>
<li>Network card firmware version: 224.1.102.0</li>
</ul>
<p>The Arena SDK installation package from the LUCID website includes the related drivers.
See the readme in the installation package for more details.
Related firmware updates may be available for download from the LUCID website.
Update the firmware following the instructions that accompany the firmware files.</p>
</div>
<div class="section" id="initial-preparation">
<h3>Initial preparation<a class="headerlink" href="#initial-preparation" title="Permalink to this headline">¶</a></h3>
<p>To configure the host computer:</p>
<ol class="arabic">
<li><p class="first">Manage power-saving features on host motherboard.</p>
<p>Disable the following power-saving properties on the motherboard if they are present and enabled.</p>
<blockquote>
<div><ul class="simple">
<li>Intel SpeedStep</li>
<li>C1 State (Halt)</li>
<li>C1E State (Enhanced Halt)</li>
<li>The system should be using C0 (Operating State)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Connect power to the card via the SATA connector.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/rdma_power_attachment.jpg"><img alt="_images/rdma_power_attachment.jpg" src="_images/rdma_power_attachment.jpg" style="width: 500px;" /></a>
</div></blockquote>
</li>
<li><p class="first">Ensure that your RAM placement activates the maximum number of memory channels.</p>
<p>Consult the documentation for your motherboard to determine the optimal memory sequence.</p>
</li>
<li><p class="first">Confirm that your card has established the minimum PCIe bandwidth required for 10G transmission.</p>
<p>The table below shows the minimum link width required for the number of cameras connected.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"># of 10G cameras</th>
<th class="head">Link width and speed required</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>PCIe Version: 3.0, Link Width 2x, Link Speed 4.0 GT/s</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>PCIe Version: 3.0, Link Width 4x, Link Speed 4.0 GT/s</td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div class="section" id="installation-procedure">
<h3>Installation procedure<a class="headerlink" href="#installation-procedure" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Complete the initial setup of the network card.</p>
<blockquote>
<div><ol class="loweralpha">
<li><p class="first">Assign an IP Address and Subnet to your NIC.</p>
<a class="reference internal image-reference" href="_images/rdma_ip_address.jpg"><img alt="_images/rdma_ip_address.jpg" src="_images/rdma_ip_address.jpg" style="width: 350px;" /></a>
</li>
<li><p class="first">In the PCIE-10GPOE2-LUCID or the PCIE-10GETH2-BC network cards, ensure that the following settings are configured as shown.</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Energy-Efficient Ethernet</td>
<td>Disabled</td>
</tr>
<tr class="row-even"><td>Jumbo Packet</td>
<td>9174 (set maximum value)</td>
</tr>
<tr class="row-odd"><td>NetworkDirect functionality</td>
<td>Enabled</td>
</tr>
<tr class="row-even"><td>NetworkDirect Technology</td>
<td>RoCE v2</td>
</tr>
<tr class="row-odd"><td>RoCE MTU</td>
<td>4096</td>
</tr>
<tr class="row-even"><td>Allow the computer to turn
off this device to save power</td>
<td>Cleared</td>
</tr>
</tbody>
</table>
</li>
</ol>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="activating-rdma">
<h3>Activating RDMA<a class="headerlink" href="#activating-rdma" title="Permalink to this headline">¶</a></h3>
<p>To use RDMA mode on a compatible LUCID camera, open ArenaView and set Transmission Stream Protocol to RDMA.</p>
<a class="reference internal image-reference" href="_images/rdma_arenaview.jpg"><img alt="_images/rdma_arenaview.jpg" src="_images/rdma_arenaview.jpg" style="width: 550px;" /></a>
<p>In C++, this is equivalent to the following:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">Arena</span><span class="o">::</span><span class="n">IDevice</span><span class="o">*</span> <span class="n">pDevice</span> <span class="o">=</span> <span class="n">pSystem</span><span class="o">-&gt;</span><span class="n">CreateDevice</span><span class="p">(</span><span class="n">deviceInfos</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> 
<span class="n">Arena</span><span class="o">::</span><span class="n">SetNodeValue</span><span class="o">&lt;</span><span class="n">GenICam</span><span class="o">::</span><span class="n">gcstring</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">GetNodeMap</span><span class="p">(),</span> <span class="s">&quot;TransportStreamProtocol&quot;</span><span class="p">,</span> <span class="s">&quot;RDMA&quot;</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">TAB1</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;GevSCPD = &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> 
<span class="n">Arena</span><span class="o">::</span><span class="n">SetNodeValue</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">GetNodeMap</span><span class="p">(),</span> <span class="s">&quot;GevSCPD&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> 
 	 	 
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">TAB1</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;DeviceLinkThroughputReserve = &quot;</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> 
<span class="n">Arena</span><span class="o">::</span><span class="n">SetNodeValue</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">GetNodeMap</span><span class="p">(),</span> <span class="s">&quot;DeviceLinkThroughputReserve&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>  
<span class="n">Arena</span><span class="o">::</span><span class="n">SetNodeValue</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">GetNodeMap</span><span class="p">(),</span> <span class="s">&quot;GevSCPSPacketSize&quot;</span><span class="p">,</span> <span class="mi">16000</span><span class="p">);</span>  
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 70px;" /></a></td>
<td>10G link speed is required to use RDMA.
If the camera is streaming images, you must call StopStream before setting TransportStreamProtocol.
and enter the following command (administrator prompt required):</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sdk.html" class="btn btn-neutral float-right" title="Code Reference &amp; Samples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arena_sdk_windows.html" class="btn btn-neutral" title="Arena SDK for Windows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Lucid Vision Labs, Inc.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.41.13',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>